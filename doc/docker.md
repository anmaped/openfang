# Use docker to generate the openfang firmware and toolchain

Docker is well known among software developers. Even if you are not familiar with it, you can easily follow the build procedure in just a few small steps. We recommend starting with the first option.

## Build openfang using pre-built docker image (recommended)

! Some users have problems compiling Openfang with GCC 2.28 and M4 (Ubuntu 18 or later ). We recomend Ubuntu 16.04.6 LTS to deploy Openfang docker. Make sure that you have the following packages in the system:

```
sudo apt install gcc g++ python make m4 zip unzip lzop
```

The next set of commands will retrieve the image from dockerhub and compile it. To do so, use the following commands:

```
docker run -it -d --name openfangdev anmaped/openfang
docker exec openfangdev sh /root/openfang/buildopenfang.sh
```

Now you can use the `docker cp` command to copy the image file containing the openfang bottoloader and rootfs.

```
docker cp openfangdev:/root/openfang/_build/buildroot-2016.02/output/images/. .
```

Replace `openfangdev` with the container id generated by the run command if you chose to use multiple containers. You can use `docker container ls -a` to see the available containers and ids.

## Build openfang from git repository

This step will generate the image locally and compile it from scratch.

```
docker build -f ./Dockerfile -t openfang/container .
docker run -it -d --name openfangdev openfang/container
docker exec openfangdev sh /root/openfang/buildopenfang.sh
```
